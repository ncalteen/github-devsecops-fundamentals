<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="GitHub Universe 2023 | Workshop"><meta name=author content="Igwe Kalu <igwejk@github.com>"><link href=https://github.com/pages/githubuniverseworkshops/github-devsecops-fundamentals/Release-Automation/release-management/ rel=canonical><link href=../continuous-deployment/ rel=prev><link href=../environment-management/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.4.2"><title>Release Management - GitHub DevSecOps Fundamentals</title><link rel=stylesheet href=../../assets/stylesheets/main.d451bc0e.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#release-management class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="GitHub DevSecOps Fundamentals" class="md-header__button md-logo" aria-label="GitHub DevSecOps Fundamentals" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> GitHub DevSecOps Fundamentals </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Release Management </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/githubuniverseworkshops/github-devsecops-fundamentals title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="GitHub DevSecOps Fundamentals" class="md-nav__button md-logo" aria-label="GitHub DevSecOps Fundamentals" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> GitHub DevSecOps Fundamentals </label> <div class=md-nav__source> <a href=https://github.com/githubuniverseworkshops/github-devsecops-fundamentals title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Labs </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Labs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Value-Stream-Management/ class=md-nav__link> <span class=md-ellipsis> Value Stream Management </span> </a> </li> <li class=md-nav__item> <a href=../../Version-Control/ class=md-nav__link> <span class=md-ellipsis> Version Control </span> </a> </li> <li class=md-nav__item> <a href=../../Software-Supply-Chain/ class=md-nav__link> <span class=md-ellipsis> Securing the Software Supply Chain </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4 checked> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> Release Automation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=true> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Release Automation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../prerequisites/ class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=../setup/ class=md-nav__link> <span class=md-ellipsis> Setup </span> </a> </li> <li class=md-nav__item> <a href=../continuous-deployment/ class=md-nav__link> <span class=md-ellipsis> Continuous Deployment </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Release Management </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Release Management </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#step-1-create-a-new-branch class=md-nav__link> Step 1: Create a New Branch </a> </li> <li class=md-nav__item> <a href=#step-2-create-a-pull-request class=md-nav__link> Step 2: Create a Pull Request </a> </li> <li class=md-nav__item> <a href=#step-3-merge class=md-nav__link> Step 3: Merge </a> </li> <li class=md-nav__item> <a href=#step-4-create-a-branch class=md-nav__link> Step 4: Create a Branch </a> </li> <li class=md-nav__item> <a href=#step-5-create-a-pull-request class=md-nav__link> Step 5: Create a Pull Request </a> </li> <li class=md-nav__item> <a href=#step-6-merge class=md-nav__link> Step 6: Merge </a> </li> <li class=md-nav__item> <a href=#step-7-review-the-release class=md-nav__link> Step 7: Review the Release </a> </li> <li class=md-nav__item> <a href=#next-steps class=md-nav__link> Next Steps </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../environment-management/ class=md-nav__link> <span class=md-ellipsis> Environment Management </span> </a> </li> <li class=md-nav__item> <a href=../static-code-analysis/ class=md-nav__link> <span class=md-ellipsis> Static Code Analysis </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../Tetris/ class=md-nav__link> <span class=md-ellipsis> Tetris </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#step-1-create-a-new-branch class=md-nav__link> Step 1: Create a New Branch </a> </li> <li class=md-nav__item> <a href=#step-2-create-a-pull-request class=md-nav__link> Step 2: Create a Pull Request </a> </li> <li class=md-nav__item> <a href=#step-3-merge class=md-nav__link> Step 3: Merge </a> </li> <li class=md-nav__item> <a href=#step-4-create-a-branch class=md-nav__link> Step 4: Create a Branch </a> </li> <li class=md-nav__item> <a href=#step-5-create-a-pull-request class=md-nav__link> Step 5: Create a Pull Request </a> </li> <li class=md-nav__item> <a href=#step-6-merge class=md-nav__link> Step 6: Merge </a> </li> <li class=md-nav__item> <a href=#step-7-review-the-release class=md-nav__link> Step 7: Review the Release </a> </li> <li class=md-nav__item> <a href=#next-steps class=md-nav__link> Next Steps </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=release-management>Release Management<a class=headerlink href=#release-management title="Permanent link">&para;</a></h1> <p>Having continuous deployment in place is great, but what if you're deploying to something more distributed? For example, if you have a Node.js application that runs in a container, and you want to deploy to Kubernetes clusters across multiple regions, it makes sense to retain different release versions of your application, in case you need to roll back for any reason.</p> <p>In this section, you're going to configure automatic creation of release artifacts any time there is a version change in your project. For information on version numbering, see <a href=https://semver.org/ >Semantic Versioning</a>.</p> <h2 id=step-1-create-a-new-branch>Step 1: Create a New Branch<a class=headerlink href=#step-1-create-a-new-branch title="Permanent link">&para;</a></h2> <ol> <li>Open your repository locally or in Codespaces</li> <li>Create a new branch</li> </ol> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code>git<span class=w> </span>checkout<span class=w> </span>-b<span class=w> </span>releases
</code></pre></div></td></tr></table></div> <ol> <li>Open <code>.github/workflows/continuous-deployment.yml</code> for editing and modify it to include the following contents:</li> </ol> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal> 1</span>
<span class=normal> 2</span>
<span class=normal> 3</span>
<span class=normal> 4</span>
<span class=normal> 5</span>
<span class=normal> 6</span>
<span class=normal> 7</span>
<span class=normal> 8</span>
<span class=normal> 9</span>
<span class=normal>10</span>
<span class=normal>11</span>
<span class=normal>12</span>
<span class=normal>13</span>
<span class=normal>14</span>
<span class=normal>15</span>
<span class=normal>16</span>
<span class=normal>17</span>
<span class=normal>18</span>
<span class=normal>19</span>
<span class=normal>20</span>
<span class=normal>21</span>
<span class=normal>22</span>
<span class=normal>23</span>
<span class=normal>24</span>
<span class=normal>25</span>
<span class=normal>26</span>
<span class=normal>27</span>
<span class=normal>28</span>
<span class=normal>29</span>
<span class=normal>30</span>
<span class=normal>31</span>
<span class=normal>32</span>
<span class=normal>33</span>
<span class=normal>34</span>
<span class=normal>35</span>
<span class=normal>36</span>
<span class=normal>37</span>
<span class=normal>38</span>
<span class=normal>39</span>
<span class=normal>40</span>
<span class=normal>41</span>
<span class=normal>42</span>
<span class=normal>43</span>
<span class=normal>44</span>
<span class=normal>45</span>
<span class=normal>46</span>
<span class=normal>47</span>
<span class=normal>48</span>
<span class=normal>49</span>
<span class=normal>50</span>
<span class=normal>51</span>
<span class=normal>52</span>
<span class=normal>53</span>
<span class=normal>54</span>
<span class=normal>55</span>
<span class=normal>56</span>
<span class=normal>57</span>
<span class=normal>58</span>
<span class=normal>59</span>
<span class=normal>60</span>
<span class=normal>61</span>
<span class=normal>62</span>
<span class=normal>63</span>
<span class=normal>64</span>
<span class=normal>65</span>
<span class=normal>66</span>
<span class=normal>67</span>
<span class=normal>68</span>
<span class=normal>69</span>
<span class=normal>70</span>
<span class=normal>71</span>
<span class=normal>72</span>
<span class=normal>73</span>
<span class=normal>74</span>
<span class=normal>75</span>
<span class=normal>76</span>
<span class=normal>77</span>
<span class=normal>78</span>
<span class=normal>79</span>
<span class=normal>80</span>
<span class=normal>81</span></pre></div></td><td class=code><div><pre><span></span><code><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Continuous Deployment</span>

<span class=c1># Run this action when PRs targeting `main` are closed.</span>
<span class=nt>on</span><span class=p>:</span>
<span class=w>  </span><span class=nt>pull_request</span><span class=p>:</span>
<span class=w>    </span><span class=nt>types</span><span class=p>:</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">closed</span>
<span class=w>    </span><span class=nt>branches</span><span class=p>:</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">main</span>

<span class=c1># The following permissions are required to deploy to GitHub Pages.</span>
<span class=nt>permissions</span><span class=p>:</span>
<span class=w>  </span><span class=nt>contents</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">write</span>
<span class=w>  </span><span class=nt>pages</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">write</span>
<span class=w>  </span><span class=nt>id-token</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">write</span>

<span class=c1># If multiple PRs are merged around the same time, this will ensure all but</span>
<span class=c1># the latest workflow run are cancelled, so that the latest content is</span>
<span class=c1># deployed to GitHub Pages.</span>
<span class=nt>concurrency</span><span class=p>:</span>
<span class=w>  </span><span class=nt>group</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pages</span>
<span class=w>  </span><span class=nt>cancel-in-progress</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">true</span>

<span class=nt>jobs</span><span class=p>:</span>
<span class=w>  </span><span class=nt>deploy</span><span class=p>:</span>
<span class=w>    </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Deploy</span>
<span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>

<span class=w>    </span><span class=c1># Only run if the PR was merged successfully.</span>
<span class=w>    </span><span class=nt>if</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${{ github.event.pull_request.merged == true }}</span>

<span class=w>    </span><span class=nt>steps</span><span class=p>:</span>
<span class=w>      </span><span class=c1># Checkout the repository onto the runner.</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Checkout</span>
<span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">checkout</span>
<span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v4</span>

<span class=w>      </span><span class=c1># Install the same version of Python that is used in the project. Cache</span>
<span class=w>      </span><span class=c1># dependencies to reduce workflow run time.</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Setup Python</span>
<span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">setup-python</span>
<span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-python@v4</span>
<span class=w>        </span><span class=nt>with</span><span class=p>:</span>
<span class=w>          </span><span class=nt>python-version</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">3.11</span>
<span class=w>          </span><span class=nt>cache</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">poetry</span>

<span class=w>      </span><span class=c1># Install/update any dependencies from the cache.</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Install Dependencies</span>
<span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">install</span>
<span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<span class=w>          </span><span class=no>pip install poetry</span>
<span class=w>          </span><span class=no>poetry install</span>

<span class=w>      </span><span class=c1># Configure GitHub Pages on the repository.</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Set up Pages</span>
<span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pages</span>
<span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">actions/configure-pages@v3</span>

<span class=w>      </span><span class=c1># Deploy the updated content to the `gh-pages` branch and update the</span>
<span class=w>      </span><span class=c1># currently-running site.</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Deploy to GitHub Pages</span>
<span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">deploy</span>
<span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class="p p-Indicator">|</span>
<span class=w>          </span><span class=no>poetry run mkdocs gh-deploy --force --theme material</span>

<span class=w>      </span><span class=c1># Get the version and update the tags to use in the release</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Tag Commit</span>
<span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">tag-commit</span>
<span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">issue-ops/semver@v0.1.0</span>
<span class=w>        </span><span class=nt>with</span><span class=p>:</span>
<span class=w>          </span><span class=nt>manifest-path</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">pyproject.toml</span>
<span class=w>          </span><span class=nt>workspace</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">${{ github.workspace }}</span>
<span class=w>          </span><span class=nt>ref</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">main</span>

<span class=w>      </span><span class=c1># Use the version output from the previous step for the release</span>
<span class=w>      </span><span class=c1># Prepend a &#39;v&#39; to the beginning (e.g. &#39;v1.2.3&#39;)</span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">Create Release</span>
<span class=w>        </span><span class=nt>id</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">create-release</span>
<span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">issue-ops/releaser@v0.1.2</span>
<span class=w>        </span><span class=nt>with</span><span class=p>:</span>
<span class=w>          </span><span class=nt>tag</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">v${{ steps.tag-commit.outputs.version }}</span>
</code></pre></div></td></tr></table></div> <ol> <li>Stage and commit the new file</li> </ol> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code>git<span class=w> </span>add<span class=w> </span>.github/workflows/continuous-deployment.yml
git<span class=w> </span>commit<span class=w> </span>-m<span class=w> </span><span class=s1>&#39;Add Continuous Deployment workflow&#39;</span>
</code></pre></div></td></tr></table></div> <ol> <li>Push the new branch to the remote repository on GitHub</li> </ol> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code>git<span class=w> </span>push<span class=w> </span>-u<span class=w> </span>origin<span class=w> </span>releases
</code></pre></div></td></tr></table></div> <h2 id=step-2-create-a-pull-request>Step 2: Create a Pull Request<a class=headerlink href=#step-2-create-a-pull-request title="Permanent link">&para;</a></h2> <p>Now that your changes are ready for review, you can open a pull request!</p> <ol> <li>Navigate to your repository on GitHub.com</li> <li>Click the <strong>Pull requests</strong> tab</li> <li>In the <strong>compare</strong> drop-down menu, select your branch (e.g. <code>cd-workflow</code>)</li> <li>Click <strong>Create pull request</strong></li> <li>Enter a title and description for your PR</li> <li>Click <strong>Create pull request</strong></li> </ol> <p>If possible, feel free to add someone <a href=https://docs.github.com/en/account-and-profile/setting-up-and-managing-your-personal-account-on-github/managing-access-to-your-personal-repositories/inviting-collaborators-to-a-personal-repository>as a collaborator</a> and have them review your PR! Otherwise, feel free to skip the following steps.</p> <ol> <li>Click the cog icon next to the <strong>Reviewers</strong> section and add a reviewer</li> <li>Click <strong>assign yourself</strong> to assign the PR to yourself</li> <li>(Optional) Add any labels, projects, and milestones</li> </ol> <h2 id=step-3-merge>Step 3: Merge<a class=headerlink href=#step-3-merge title="Permanent link">&para;</a></h2> <p>Once you're ready, you can merge your PR into <code>main</code>.</p> <ol> <li>Click <strong>Merge pull request</strong></li> <li>Click <strong>Confirm merge</strong></li> <li>Click <strong>Delete branch</strong></li> </ol> <p>Now that you have a workflow in place, it's time to make some changes and see it in action!</p> <h2 id=step-4-create-a-branch>Step 4: Create a Branch<a class=headerlink href=#step-4-create-a-branch title="Permanent link">&para;</a></h2> <ol> <li>In your local repository or codespace, update your repository and create a new branch</li> </ol> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span>
<span class=normal>3</span></pre></div></td><td class=code><div><pre><span></span><code>git<span class=w> </span>checkout<span class=w> </span>main
git<span class=w> </span>pull
git<span class=w> </span>checkout<span class=w> </span>-b<span class=w> </span>new-feature
</code></pre></div></td></tr></table></div> <ol> <li>Make some changes to the site</li> <li>In <code>pyproject.toml</code>, update the <strong>version</strong> field (e.g. change it from <code>0.1.0</code> to <code>0.2.0</code>)</li> <li>Stage and commit your changes</li> </ol> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span>
<span class=normal>2</span></pre></div></td><td class=code><div><pre><span></span><code>git<span class=w> </span>add<span class=w> </span>.
git<span class=w> </span>commit<span class=w> </span>-m<span class=w> </span><span class=s1>&#39;Updating site contents v0.2.0&#39;</span>
</code></pre></div></td></tr></table></div> <ol> <li>Push your new branch to the remote on GitHub</li> </ol> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code>git<span class=w> </span>push<span class=w> </span>-u<span class=w> </span>origin<span class=w> </span>new-feature
</code></pre></div></td></tr></table></div> <h2 id=step-5-create-a-pull-request>Step 5: Create a Pull Request<a class=headerlink href=#step-5-create-a-pull-request title="Permanent link">&para;</a></h2> <ol> <li>Navigate to your repository on GitHub.com</li> <li>Click the <strong>Pull requests</strong> tab</li> <li>In the <strong>compare</strong> drop-down menu, select your branch (e.g. <code>cd-workflow</code>)</li> <li>Click <strong>Create pull request</strong></li> <li>Enter a title and description for your PR</li> <li>Click <strong>Create pull request</strong></li> </ol> <p>As with the last PR, feel free to have another person review and approve your changes. Otherwise, go ahead and merge them into <code>main</code>.</p> <ol> <li>Click the cog icon next to the <strong>Reviewers</strong> section and add a reviewer</li> <li>Click <strong>assign yourself</strong> to assign the PR to yourself</li> <li>(Optional) Add any labels, projects, and milestones</li> </ol> <h2 id=step-6-merge>Step 6: Merge<a class=headerlink href=#step-6-merge title="Permanent link">&para;</a></h2> <p>Once you're ready, you can merge your PR into <code>main</code>.</p> <ol> <li>Click <strong>Merge pull request</strong></li> <li>Click <strong>Confirm merge</strong></li> <li>Click <strong>Delete branch</strong></li> </ol> <p>Now that the PR has been merged, your continuous deployment action will be invoked! Similar to the previous section, this will update the site contents on GitHub Pages. It will also create a new release that can be used to download the latest contents of the repository as an artifact.</p> <h2 id=step-7-review-the-release>Step 7: Review the Release<a class=headerlink href=#step-7-review-the-release title="Permanent link">&para;</a></h2> <ol> <li>Click the <strong>Code</strong> tab of the repository</li> <li>Locate the <strong>Releases</strong> section</li> <li>Click the latest release</li> <li>Review the contents</li> </ol> <h2 id=next-steps>Next Steps<a class=headerlink href=#next-steps title="Permanent link">&para;</a></h2> <p>Congratulations! You have now enabled continuous releases! Next, it's time to configure <a href=../environment-management/ >Environment Management</a>.</p> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.726fbb30.min.js></script> <script src=../../js/config.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/tablesort.min.js></script> <script src=../../js/tables.js></script> </body> </html>