<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="GitHub Universe 2023 | Workshop"><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.4.2"><title>End-to-End Development Workflow - GitHub DevSecOps Fundamentals</title><link rel=stylesheet href=../../assets/stylesheets/main.d451bc0e.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#end-to-end-development-workflow class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="GitHub DevSecOps Fundamentals" class="md-header__button md-logo" aria-label="GitHub DevSecOps Fundamentals" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> GitHub DevSecOps Fundamentals </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> End-to-End Development Workflow </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="GitHub DevSecOps Fundamentals" class="md-nav__button md-logo" aria-label="GitHub DevSecOps Fundamentals" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg> </a> GitHub DevSecOps Fundamentals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Labs </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Labs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Value-Stream-Management/ class=md-nav__link> <span class=md-ellipsis> Value Stream Management </span> </a> </li> <li class=md-nav__item> <a href=../../Version-Control/ class=md-nav__link> <span class=md-ellipsis> Version Control </span> </a> </li> <li class=md-nav__item> <a href=../../Software-Supply-Chain/ class=md-nav__link> <span class=md-ellipsis> Securing the Software Supply Chain </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class=md-ellipsis> Release Automation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Release Automation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../prerequisites/ class=md-nav__link> <span class=md-ellipsis> Prerequisites </span> </a> </li> <li class=md-nav__item> <a href=../setup/ class=md-nav__link> <span class=md-ellipsis> Setup </span> </a> </li> <li class=md-nav__item> <a href=../continuous-deployment/ class=md-nav__link> <span class=md-ellipsis> Continuous Deployment </span> </a> </li> <li class=md-nav__item> <a href=../release-management/ class=md-nav__link> <span class=md-ellipsis> Release Management </span> </a> </li> <li class=md-nav__item> <a href=../environment-management/ class=md-nav__link> <span class=md-ellipsis> Environment Management </span> </a> </li> <li class=md-nav__item> <a href=../static-code-analysis/ class=md-nav__link> <span class=md-ellipsis> Static Code Analysis </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#step-1-create-a-feature-branch class=md-nav__link> Step 1: Create a Feature Branch </a> </li> <li class=md-nav__item> <a href=#step-2-make-changes class=md-nav__link> Step 2: Make Changes </a> </li> <li class=md-nav__item> <a href=#step-3-update-the-version class=md-nav__link> Step 3: Update the Version </a> </li> <li class=md-nav__item> <a href=#step-4-commit-and-push class=md-nav__link> Step 4: Commit and Push </a> </li> <li class=md-nav__item> <a href=#step-5-verify-package-creation class=md-nav__link> Step 5: Verify Package Creation </a> </li> <li class=md-nav__item> <a href=#step-6-deploy-to-dev class=md-nav__link> Step 6: Deploy to dev </a> </li> <li class=md-nav__item> <a href=#step-7-create-a-pull-request class=md-nav__link> Step 7: Create a Pull Request </a> </li> <li class=md-nav__item> <a href=#step-8-review-checks class=md-nav__link> Step 8: Review Checks </a> </li> <li class=md-nav__item> <a href=#step-9-collaborate class=md-nav__link> Step 9: Collaborate </a> </li> <li class=md-nav__item> <a href=#step-10-merge class=md-nav__link> Step 10: Merge </a> </li> <li class=md-nav__item> <a href=#step-11-update-image-label class=md-nav__link> Step 11: Update Image Label </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=end-to-end-development-workflow>End-to-End Development Workflow<a class=headerlink href=#end-to-end-development-workflow title="Permanent link">&para;</a></h1> <p>Now that you have a Codespace, you can start working on your application! This document will walk you through the end-to-end workflow of developing, testing, and deploying your application.</p> <h2 id=step-1-create-a-feature-branch>Step 1: Create a Feature Branch<a class=headerlink href=#step-1-create-a-feature-branch title="Permanent link">&para;</a></h2> <ol> <li>In your codespace's terminal, run the following command</li> </ol> <blockquote> <p>![NOTE]</p> <p>Give your branch a descriptive name so it's easy to remember what you're working on! Or, if it is to address a specific issue, include the issue number.</p> </blockquote> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code>git<span class=w> </span>checkout<span class=w> </span>-b<span class=w> </span>my-branch
</code></pre></div></td></tr></table></div> <h2 id=step-2-make-changes>Step 2: Make Changes<a class=headerlink href=#step-2-make-changes title="Permanent link">&para;</a></h2> <p>At this point, you can start making changes to your application. To see those changes, make sure to start the app first! The sample app can be started from the terminal or the command palette.</p> <p>From the terminal:</p> <ol> <li>Run the following command</li> </ol> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code>poetry<span class=w> </span>run<span class=w> </span>flask<span class=w> </span>run<span class=w> </span>--host<span class=o>=</span><span class=m>0</span>.0.0.0<span class=w> </span>--port<span class=o>=</span><span class=m>3000</span>
</code></pre></div></td></tr></table></div> <p>From the command palette:</p> <ol> <li>Press <strong>Ctrl + Shift + P</strong> to open the command palette</li> <li>Enter <code>Tasks: Run Task</code></li> <li>Press <strong>Enter</strong></li> <li>Select <code>Python: Run App</code> from the list of options</li> </ol> <p>You should see output like this:</p> <p>Codespaces will detect that your app is running and prompt you to open it in a new browser tab.</p> <ol> <li>Click <strong>Open in Browser</strong></li> </ol> <p>As you are making changes, make sure to refresh the new tab to see them.</p> <h2 id=step-3-update-the-version>Step 3: Update the Version<a class=headerlink href=#step-3-update-the-version title="Permanent link">&para;</a></h2> <p>This repository uses <a href=https://semver.org/ >Semantic Versioning (SemVer)</a> to track releases. This means that any time you make a change to your application, you will need to update the version number in <code>pyproject.toml</code>.</p> <ol> <li>Open <code>pyproject.toml</code></li> <li>Update the <code>version</code> field</li> </ol> <blockquote> <p>![NOTE]</p> <p>The version number must be in the format <code>x.y.z</code>, where <code>x</code>, <code>y</code>, and <code>z</code> are integers. For example, <code>1.0.0</code> or <code>2.1.3</code>.</p> </blockquote> <h2 id=step-4-commit-and-push>Step 4: Commit and Push<a class=headerlink href=#step-4-commit-and-push title="Permanent link">&para;</a></h2> <ol> <li>In your codespace's terminal, run the following command</li> </ol> <blockquote> <p>![NOTE]</p> <p>Check out <a href=https://cbea.ms/git-commit/ >How to Write a Git Commit Message</a>!</p> </blockquote> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code>git<span class=w> </span>commit<span class=w> </span>-am<span class=w> </span><span class=s2>&quot;My commit message&quot;</span>
</code></pre></div></td></tr></table></div> <ol> <li>Push your changes to GitHub</li> </ol> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code>git<span class=w> </span>push
</code></pre></div></td></tr></table></div> <p>If you encounter an error, you may need to set the upstream branch. Run the command again, this time including the <code>--set-upstream</code> parameter.</p> <div class=highlight><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal>1</span></pre></div></td><td class=code><div><pre><span></span><code>git<span class=w> </span>push<span class=w> </span>--set-upstream<span class=w> </span>origin<span class=w> </span>my-branch
</code></pre></div></td></tr></table></div> <h2 id=step-5-verify-package-creation>Step 5: Verify Package Creation<a class=headerlink href=#step-5-verify-package-creation title="Permanent link">&para;</a></h2> <p>Any time you push changes to your branch, the <strong>Continuous Integration</strong> workflow will run. This workflow will build and test your project, and upload the container image to GitHub Container Registry. The following image labeles will be created:</p> <table> <thead> <tr> <th>Label</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>my-feature-&lt;commit sha&gt;</code></td> <td>The image built from the specific commit</td> </tr> <tr> <td><code>my-feature</code></td> <td>The latest image built from the branch</td> </tr> </tbody> </table> <ol> <li>Locate the <strong>Packages</strong> section of your repository</li> <li>Click the package name (e.g. <code>cloud-starter-app-python</code>)</li> <li>In the <strong>Recent tagged image versions</strong> section, locate that has been tagged with your branch name (e.g. <code>my-branch</code>)</li> </ol> <h2 id=step-6-deploy-to-dev>Step 6: Deploy to <code>dev</code><a class=headerlink href=#step-6-deploy-to-dev title="Permanent link">&para;</a></h2> <p>Now that your image is available, you can deploy it to your <code>dev</code> environment! If you are still testing this change, you can deploy it to <code>dev</code> using the Rollout Deployment workflow.</p> <ol> <li>Navigate to your <strong>infrastructre</strong> repository</li> <li>Click the <strong>Actions</strong> tab</li> <li>Click <strong>Rollout Deployment to Azure</strong></li> <li>Click <strong>Run workflow</strong></li> <li>In the <strong>Deployment Environment</strong> drop-down menu, select <code>dev</code></li> <li>In the <strong>Deployment Image Label</strong> field, enter your branch name (e.g. <code>my-branch</code>)</li> <li>Click <strong>Run workflow</strong></li> </ol> <p>When the workflow completes, you can verify that your application is running by navigating to the IP address of your deployment.</p> <h2 id=step-7-create-a-pull-request>Step 7: Create a Pull Request<a class=headerlink href=#step-7-create-a-pull-request title="Permanent link">&para;</a></h2> <p>When your changes are ready for review and release, you can open a pull request!</p> <ol> <li>Navigate to your repository</li> <li>Click the <strong>Pull requests</strong> tab</li> <li>In the <strong>compare</strong> drop-down menu, select your branch (e.g. <code>my-branch</code>)</li> <li>Click <strong>Create pull request</strong></li> <li>Enter a title and description for your PR</li> <li>Click <strong>Create pull request</strong></li> <li>Click the cog icon next to the <strong>Reviewers</strong> section and add at least 1 reviewer from your team</li> <li>Click <strong>assign yourself</strong> to assign the PR to yourself</li> <li>(Optional) Add any labels, projects, and milestones</li> </ol> <h2 id=step-8-review-checks>Step 8: Review Checks<a class=headerlink href=#step-8-review-checks title="Permanent link">&para;</a></h2> <p>Whenever you push changes to your branch, the <strong>Continuous Integration</strong> and <strong>Linter</strong> workflows will run. You can view the results of these workflows by clicking the <strong>Checks</strong> tab of your PR, or by clicking <strong>Details</strong> next to a specific check.</p> <h2 id=step-9-collaborate>Step 9: Collaborate<a class=headerlink href=#step-9-collaborate title="Permanent link">&para;</a></h2> <p>Once your PR is open, you can collaborate with your team to review and test your changes. You can also continue to push changes to your branch, which will automatically update the PR.</p> <h2 id=step-10-merge>Step 10: Merge<a class=headerlink href=#step-10-merge title="Permanent link">&para;</a></h2> <p>Once your PR is approved, you can merge it into <code>main</code>. This will trigger the <strong>Continuous Delivery</strong> workflow, which will build, test, and push your container image to GitHub Container Registry.</p> <ol> <li>Click <strong>Merge pull request</strong></li> <li>Click <strong>Confirm merge</strong></li> <li>Click <strong>Delete branch</strong></li> </ol> <h2 id=step-11-update-image-label>Step 11: Update Image Label<a class=headerlink href=#step-11-update-image-label title="Permanent link">&para;</a></h2> <p>Now that a new image label has been created, you will need to update the infrastructure repository to use it. This can be done by following the steps in</p> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.a264c092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.726fbb30.min.js></script> <script src=../../js/config.js></script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script> <script src=https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/tablesort.min.js></script> <script src=../../js/tables.js></script> </body> </html>